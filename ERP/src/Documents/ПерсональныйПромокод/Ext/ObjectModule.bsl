
Процедура ОбработкаПроведения(Отказ, Режим)
	
	// регистр ПромокодыПериодДействия
	Движения.ПромокодыПериодДействия.Записывать = Истина;
	Движение = Движения.ПромокодыПериодДействия.Добавить();
	Движение.Промокод = Промокод;
	Движение.ПрайсЛист = ПрайсЛист;
	Движение.НачалоДействия = НачалоДействия;
   	Если ЗначениеЗаполнено(КонецДействия) Тогда
		Движение.КонецДействия = КонецДействия;
	Иначе
		Движение.КонецДействия = ОбщегоНазначения.ДатаОкончанияВремен();
	КонецЕсли;
	
КонецПроцедуры
